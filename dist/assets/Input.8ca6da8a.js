import{P as m,n as _,D as F,h as d,H as se,d as oe,N as ce,j as U,b as B,aq as ve,q as pe,at as ne,J as ye,x as me,a8 as be,a1 as ge,v as xe,F as he,K as X,M as we}from"./index.7be5bb68.js";import{a as Be}from"./antInputDirective.48450d4b.js";import{o as Y}from"./omit.51d8d70a.js";import{c as L}from"./vnode.5c7906f9.js";import{u as Ae}from"./FormItemContext.ba37e9fe.js";var ue=function(){return{id:String,prefixCls:String,inputPrefixCls:String,defaultValue:m.oneOfType([m.string,m.number]),value:{type:[String,Number,Symbol],default:void 0},placeholder:{type:[String,Number]},autocomplete:String,type:{type:String,default:"text"},name:String,size:{type:String},disabled:{type:Boolean,default:void 0},readonly:{type:Boolean,default:void 0},addonBefore:m.any,addonAfter:m.any,prefix:m.any,suffix:m.any,autofocus:{type:Boolean,default:void 0},allowClear:{type:Boolean,default:void 0},lazy:{type:Boolean,default:!0},maxlength:Number,loading:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},showCount:{type:[Boolean,Object]},htmlSize:Number,onPressEnter:Function,onKeydown:Function,onKeyup:Function,onFocus:Function,onBlur:Function,onChange:Function,onInput:Function,"onUpdate:value":Function,valueModifiers:Object,hidden:Boolean}};const Ce=ue;var Me=function(){return _(_({},Y(ue(),["prefix","addonBefore","addonAfter","suffix"])),{},{rows:Number,autosize:{type:[Boolean,Object],default:void 0},autoSize:{type:[Boolean,Object],default:void 0},onResize:{type:Function},onCompositionstart:Function,onCompositionend:Function,valueModifiers:Object})};function le(t,e,v,r,o){var p;return F(t,(p={},d(p,"".concat(t,"-sm"),v==="small"),d(p,"".concat(t,"-lg"),v==="large"),d(p,"".concat(t,"-disabled"),r),d(p,"".concat(t,"-rtl"),o==="rtl"),d(p,"".concat(t,"-borderless"),!e),p))}var q=function(e){return e!=null&&(Array.isArray(e)?se(e).length:!0)};function _e(t){return q(t.prefix)||q(t.suffix)||q(t.allowClear)}function ee(t){return q(t.addonBefore)||q(t.addonAfter)}var Se=["text","input"];const $e=oe({compatConfig:{MODE:3},name:"ClearableLabeledInput",inheritAttrs:!1,props:{prefixCls:String,inputType:m.oneOf(ce("text","input")),value:m.any,defaultValue:m.any,allowClear:{type:Boolean,default:void 0},element:m.any,handleReset:Function,disabled:{type:Boolean,default:void 0},direction:{type:String},size:{type:String},suffix:m.any,prefix:m.any,addonBefore:m.any,addonAfter:m.any,readonly:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},bordered:{type:Boolean,default:!0},triggerFocus:{type:Function},hidden:Boolean},setup:function(e,v){var r=v.slots,o=v.attrs,p=U(),R=function(n){var f;if((f=p.value)!==null&&f!==void 0&&f.contains(n.target)){var i=e.triggerFocus;i==null||i()}},y=function(n){var f,i=e.allowClear,u=e.value,l=e.disabled,h=e.readonly,b=e.handleReset,A=e.suffix,g=A===void 0?r.suffix:A;if(!i)return null;var C=!l&&!h&&u,x="".concat(n,"-clear-icon");return B(ve,{onClick:b,onMousedown:function($){return $.preventDefault()},class:F((f={},d(f,"".concat(x,"-hidden"),!C),d(f,"".concat(x,"-has-suffix"),!!g),f),x),role:"button"},null)},Z=function(n){var f,i=e.suffix,u=i===void 0?(f=r.suffix)===null||f===void 0?void 0:f.call(r):i,l=e.allowClear;return u||l?B("span",{class:"".concat(n,"-suffix")},[y(n),u]):null},G=function(n,f){var i,u,l,h=e.focused,b=e.value,A=e.prefix,g=A===void 0?(i=r.prefix)===null||i===void 0?void 0:i.call(r):A,C=e.size,x=e.suffix,N=x===void 0?(u=r.suffix)===null||u===void 0?void 0:u.call(r):x,$=e.disabled,P=e.allowClear,z=e.direction,O=e.readonly,M=e.bordered,E=e.hidden,V=e.addonAfter,K=V===void 0?r.addonAfter:V,c=e.addonBefore,a=c===void 0?r.addonBefore:c,s=Z(n);if(!_e({prefix:g,suffix:N,allowClear:P}))return L(f,{value:b});var I=g?B("span",{class:"".concat(n,"-prefix")},[g]):null,w=F("".concat(n,"-affix-wrapper"),(l={},d(l,"".concat(n,"-affix-wrapper-focused"),h),d(l,"".concat(n,"-affix-wrapper-disabled"),$),d(l,"".concat(n,"-affix-wrapper-sm"),C==="small"),d(l,"".concat(n,"-affix-wrapper-lg"),C==="large"),d(l,"".concat(n,"-affix-wrapper-input-with-clear-btn"),N&&P&&b),d(l,"".concat(n,"-affix-wrapper-rtl"),z==="rtl"),d(l,"".concat(n,"-affix-wrapper-readonly"),O),d(l,"".concat(n,"-affix-wrapper-borderless"),!M),d(l,"".concat(o.class),!ee({addonAfter:K,addonBefore:a})&&o.class),l));return B("span",{ref:p,class:w,style:o.style,onMouseup:R,hidden:E},[I,L(f,{style:null,value:b,class:le(n,M,C,$)}),s])},W=function(n,f){var i,u,l,h=e.addonBefore,b=h===void 0?(i=r.addonBefore)===null||i===void 0?void 0:i.call(r):h,A=e.addonAfter,g=A===void 0?(u=r.addonAfter)===null||u===void 0?void 0:u.call(r):A,C=e.size,x=e.direction,N=e.hidden,$=e.disabled;if(!ee({addonBefore:b,addonAfter:g}))return f;var P="".concat(n,"-group"),z="".concat(P,"-addon"),O=F(z,d({},"".concat(z,"-disabled"),$)),M=b?B("span",{class:O},[b]):null,E=g?B("span",{class:O},[g]):null,V=F("".concat(n,"-wrapper"),P,d({},"".concat(P,"-rtl"),x==="rtl")),K=F("".concat(n,"-group-wrapper"),(l={},d(l,"".concat(n,"-group-wrapper-sm"),C==="small"),d(l,"".concat(n,"-group-wrapper-lg"),C==="large"),d(l,"".concat(n,"-group-wrapper-rtl"),x==="rtl"),l),o.class);return B("span",{class:K,style:o.style,hidden:N},[B("span",{class:V},[M,L(f,{style:null}),E])])},T=function(n,f){var i,u=e.value,l=e.allowClear,h=e.direction,b=e.bordered,A=e.hidden,g=e.addonAfter,C=g===void 0?r.addonAfter:g,x=e.addonBefore,N=x===void 0?r.addonBefore:x;if(!l)return L(f,{value:u});var $=F("".concat(n,"-affix-wrapper"),"".concat(n,"-affix-wrapper-textarea-with-clear-btn"),(i={},d(i,"".concat(n,"-affix-wrapper-rtl"),h==="rtl"),d(i,"".concat(n,"-affix-wrapper-borderless"),!b),d(i,"".concat(o.class),!ee({addonAfter:C,addonBefore:N})&&o.class),i));return B("span",{class:$,style:o.style,hidden:A},[L(f,{style:null,value:u}),y(n)])};return function(){var S,n=e.prefixCls,f=e.inputType,i=e.element,u=i===void 0?(S=r.element)===null||S===void 0?void 0:S.call(r):i;return f===Se[0]?T(n,u):W(n,G(n,u))}}});function te(t){return typeof t>"u"||t===null?"":String(t)}function re(t,e,v,r){if(!!v){var o=e;if(e.type==="click"){Object.defineProperty(o,"target",{writable:!0}),Object.defineProperty(o,"currentTarget",{writable:!0});var p=t.cloneNode(!0);o.target=p,o.currentTarget=p,p.value="",v(o);return}if(r!==void 0){Object.defineProperty(o,"target",{writable:!0}),Object.defineProperty(o,"currentTarget",{writable:!0}),o.target=t,o.currentTarget=t,t.value=r,v(o);return}v(o)}}function Ie(t,e){if(!!t){t.focus(e);var v=e||{},r=v.cursor;if(r){var o=t.value.length;switch(r){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(o,o);break;default:t.setSelectionRange(0,o)}}}}const je=oe({compatConfig:{MODE:3},name:"AInput",inheritAttrs:!1,props:Ce(),setup:function(e,v){var r=v.slots,o=v.attrs,p=v.expose,R=v.emit,y=U(),Z=U(),G,W=Ae(),T=pe("input",e),S=T.direction,n=T.prefixCls,f=T.size,i=T.autocomplete,u=U(e.value===void 0?e.defaultValue:e.value),l=U(!1);ne(function(){return e.value},function(){u.value=e.value}),ne(function(){return e.disabled},function(){e.value!==void 0&&(u.value=e.value),e.disabled&&(l.value=!1)});var h=function(){G=setTimeout(function(){var a;((a=y.value)===null||a===void 0?void 0:a.getAttribute("type"))==="password"&&y.value.hasAttribute("value")&&y.value.removeAttribute("value")})},b=function(a){Ie(y.value,a)},A=function(){var a;(a=y.value)===null||a===void 0||a.blur()},g=function(a,s,I){var w;(w=y.value)===null||w===void 0||w.setSelectionRange(a,s,I)},C=function(){var a;(a=y.value)===null||a===void 0||a.select()};p({focus:b,blur:A,input:y,stateValue:u,setSelectionRange:g,select:C});var x=function(a){var s=e.onFocus;l.value=!0,s==null||s(a),X(function(){h()})},N=function(a){var s=e.onBlur;l.value=!1,s==null||s(a),W.onFieldBlur(),X(function(){h()})},$=function(a){R("update:value",a.target.value),R("change",a),R("input",a),W.onFieldChange()},P=we(),z=function(a,s){u.value!==a&&(e.value===void 0?u.value=a:X(function(){y.value.value!==u.value&&P.update()}),X(function(){s&&s()}))},O=function(a){re(y.value,a,$),z("",function(){b()})},M=function(a){var s=a.target,I=s.value,w=s.composing;if(!((a.isComposing||w)&&e.lazy||u.value===I)){var j=a.target.value;re(y.value,a,$),z(j,function(){h()})}},E=function(a){a.keyCode===13&&R("pressEnter",a),R("keydown",a)};ye(function(){h()}),me(function(){clearTimeout(G)});var V=function(){var a,s=e.addonBefore,I=s===void 0?r.addonBefore:s,w=e.addonAfter,j=w===void 0?r.addonAfter:w,D=e.disabled,H=e.bordered,J=H===void 0?!0:H,k=e.valueModifiers,ie=k===void 0?{}:k,de=e.htmlSize,ae=Y(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","bordered","htmlSize","lazy","showCount","valueModifiers"]),Q=_(_(_({},ae),o),{},{autocomplete:i.value,onChange:M,onInput:M,onFocus:x,onBlur:N,onKeydown:E,class:F(le(n.value,J,f.value,D,S.value),d({},o.class,o.class&&!I&&!j)),ref:y,key:"ant-input",size:de,id:(a=ae.id)!==null&&a!==void 0?a:W.id.value});ie.lazy&&delete Q.onInput,Q.autofocus||delete Q.autofocus;var fe=B("input",Y(Q,["size"]),null);return be(fe,[[Be]])},K=function(){var a,s=u.value,I=e.maxlength,w=e.suffix,j=w===void 0?(a=r.suffix)===null||a===void 0?void 0:a.call(r):w,D=e.showCount,H=Number(I)>0;if(j||D){var J=ge(te(s)).length,k=null;return xe(D)==="object"?k=D.formatter({count:J,maxlength:I}):k="".concat(J).concat(H?" / ".concat(I):""),B(he,null,[!!D&&B("span",{class:F("".concat(n.value,"-show-count-suffix"),d({},"".concat(n.value,"-show-count-has-suffix"),!!j))},[k]),j])}return null};return function(){var c=_(_(_({},o),e),{},{prefixCls:n.value,inputType:"input",value:te(u.value),handleReset:O,focused:l.value&&!e.disabled});return B($e,_(_({},Y(c,["element","valueModifiers","suffix","showCount"])),{},{ref:Z}),_(_({},r),{},{element:V,suffix:K}))}}});export{$e as C,je as I,Ie as a,te as f,Ce as i,re as r,Me as t};
