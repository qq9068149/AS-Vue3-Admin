import{h as A,a1 as ce,d as M,P as k,j as T,au as Ee,J as Be,at as ne,K as ke,x as we,b as m,aw as Ie,v as Re,R as Z,M as Ae,n as u,A as Le,a3 as Ne,a8 as xe,a7 as Te,a9 as Pe,E as Me,D as Se,Q as $e,q as De,a0 as je,G as Fe,S as ue,F as We}from"./index.7be5bb68.js";import{P as ze,c as Ve,u as Ue,a as Ke}from"./Trigger.a7131e74.js";import{K as de}from"./KeyCode.246a5a61.js";import{o as He}from"./omit.51d8d70a.js";import{p as Xe}from"./pickAttrs.91330c1c.js";import{i as te}from"./initDefaultProps.500766f6.js";import{_ as Ye}from"./objectDestructuringEmpty.0d010311.js";import{_ as qe,a as Ge}from"./index.c9989413.js";import{w as fe}from"./raf.997cffb5.js";import{B as ve,c as Je}from"./button.bbfe174f.js";import{c as Qe}from"./styleChecker.e34e40ed.js";var q;function oe(s){if(typeof document>"u")return 0;if(s||q===void 0){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var n=document.createElement("div"),o=n.style;o.position="absolute",o.top="0",o.left="0",o.pointerEvents="none",o.visibility="hidden",o.width="200px",o.height="150px",o.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var t=e.offsetWidth;n.style.overflow="scroll";var a=e.offsetWidth;t===a&&(a=n.clientWidth),document.body.removeChild(n),q=t-a}return q}function me(s){var e=s.match(/^(.*)px$/),n=Number(e==null?void 0:e[1]);return Number.isNaN(n)?oe():n}function Tn(s){if(typeof document>"u"||!s||!(s instanceof Element))return{width:0,height:0};var e=getComputedStyle(s,"::-webkit-scrollbar"),n=e.width,o=e.height;return{width:me(n),height:me(o)}}function L(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.element,o=n===void 0?document.body:n,t={},a=Object.keys(s);return a.forEach(function(v){t[v]=o.style[v]}),a.forEach(function(v){o.style[v]=s[v]}),t}function Ze(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var G={};const ge=function(s){if(!(!Ze()&&!s)){var e="ant-scrolling-effect",n=new RegExp("".concat(e),"g"),o=document.body.className;if(s){if(!n.test(o))return;L(G),G={},document.body.className=o.replace(n,"").trim();return}var t=oe();if(t&&(G=L({position:"relative",width:"calc(100% - ".concat(t,"px)")}),!n.test(o))){var a="".concat(o," ").concat(e);document.body.className=a.trim()}}};var _=[],_e="ant-scrolling-effect",J=new RegExp("".concat(_e),"g"),en=0,Q=new Map,nn=qe(function s(e){var n=this;Ge(this,s),A(this,"getContainer",function(){var o;return(o=n.options)===null||o===void 0?void 0:o.container}),A(this,"reLock",function(o){var t=_.find(function(a){var v=a.target;return v===n.lockTarget});t&&n.unLock(),n.options=o,t&&(t.options=o,n.lock())}),A(this,"lock",function(){var o;if(!_.some(function(c){var d=c.target;return d===n.lockTarget})){if(_.some(function(c){var d,C=c.options;return(C==null?void 0:C.container)===((d=n.options)===null||d===void 0?void 0:d.container)})){_=[].concat(ce(_),[{target:n.lockTarget,options:n.options}]);return}var t=0,a=((o=n.options)===null||o===void 0?void 0:o.container)||document.body;(a===document.body&&window.innerWidth-document.documentElement.clientWidth>0||a.scrollHeight>a.clientHeight)&&(t=oe());var v=a.className;if(_.filter(function(c){var d,C=c.options;return(C==null?void 0:C.container)===((d=n.options)===null||d===void 0?void 0:d.container)}).length===0&&Q.set(a,L({width:t!==0?"calc(100% - ".concat(t,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:a})),!J.test(v)){var g="".concat(v," ").concat(_e);a.className=g.trim()}_=[].concat(ce(_),[{target:n.lockTarget,options:n.options}])}}),A(this,"unLock",function(){var o,t=_.find(function(g){var c=g.target;return c===n.lockTarget});if(_=_.filter(function(g){var c=g.target;return c!==n.lockTarget}),!(!t||_.some(function(g){var c,d=g.options;return(d==null?void 0:d.container)===((c=t.options)===null||c===void 0?void 0:c.container)}))){var a=((o=n.options)===null||o===void 0?void 0:o.container)||document.body,v=a.className;!J.test(v)||(L(Q.get(a),{element:a}),Q.delete(a),a.className=a.className.replace(J,"").trim())}}),this.lockTarget=en++,this.options=e}),O=0,F=Ie(),K={},R=function(e){if(!F)return null;if(e){if(typeof e=="string")return document.querySelectorAll(e)[0];if(typeof e=="function")return e();if(Re(e)==="object"&&e instanceof window.HTMLElement)return e}return document.body};const tn=M({compatConfig:{MODE:3},name:"PortalWrapper",inheritAttrs:!1,props:{wrapperClassName:String,forceRender:{type:Boolean,default:void 0},getContainer:k.any,visible:{type:Boolean,default:void 0}},setup:function(e,n){var o=n.slots,t=T(),a=T(),v=T(),g=new nn({container:R(e.getContainer)}),c=function(){var f,p;(f=t.value)===null||f===void 0||(p=f.parentNode)===null||p===void 0||p.removeChild(t.value)},d=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(f||t.value&&!t.value.parentNode){var p=R(e.getContainer);return p?(p.appendChild(t.value),!0):!1}return!0},C=function(){return F?(t.value||(t.value=document.createElement("div"),d(!0)),N(),t.value):null},N=function(){var f=e.wrapperClassName;t.value&&f&&f!==t.value.className&&(t.value.className=f)};Ee(function(){N(),d()});var w=function(){O===1&&!Object.keys(K).length?(ge(),K=L({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"})):O||(L(K),K={},ge(!0))},y=Ae();return Be(function(){var r=!1;ne([function(){return e.visible},function(){return e.getContainer}],function(f,p){var b=Z(f,2),i=b[0],l=b[1],h=Z(p,2),P=h[0],x=h[1];if(F&&R(e.getContainer)===document.body&&(i&&!P?O+=1:r&&(O-=1)),r){var S=typeof l=="function"&&typeof x=="function";(S?l.toString()!==x.toString():l!==x)&&c(),i&&i!==P&&F&&R(l)!==g.getContainer()&&g.reLock({container:R(l)})}r=!0},{immediate:!0,flush:"post"}),ke(function(){d()||(v.value=fe(function(){y.update()}))})}),we(function(){var r=e.visible,f=e.getContainer;F&&R(f)===document.body&&(O=r&&O?O-1:O),c(),fe.cancel(v.value)}),function(){var r=e.forceRender,f=e.visible,p=null,b={getOpenCount:function(){return O},getContainer:C,switchScrollingEffect:w,scrollLocker:g};return(r||f||a.value)&&(p=m(ze,{getContainer:C,ref:a},{default:function(){var l;return(l=o.default)===null||l===void 0?void 0:l.call(o,b)}})),p}}});function ae(){return{keyboard:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},afterClose:Function,closable:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},destroyOnClose:{type:Boolean,default:void 0},mousePosition:k.shape({x:Number,y:Number}).loose,title:k.any,footer:k.any,transitionName:String,maskTransitionName:String,animation:k.any,maskAnimation:k.any,wrapStyle:{type:Object,default:void 0},bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},prefixCls:String,wrapClassName:String,rootClassName:String,width:[String,Number],height:[String,Number],zIndex:Number,bodyProps:k.any,maskProps:k.any,wrapProps:k.any,getContainer:k.any,dialogStyle:{type:Object,default:void 0},dialogClass:String,closeIcon:k.any,forceRender:{type:Boolean,default:void 0},getOpenCount:Function,focusTriggerAfterClose:{type:Boolean,default:void 0},onClose:Function,modalRender:Function}}function Ce(s,e,n){var o=e;return!o&&n&&(o="".concat(s,"-").concat(n)),o}var ye=-1;function on(){return ye+=1,ye}function pe(s,e){var n=s["page".concat(e?"Y":"X","Offset")],o="scroll".concat(e?"Top":"Left");if(typeof n!="number"){var t=s.document;n=t.documentElement[o],typeof n!="number"&&(n=t.body[o])}return n}function an(s){var e=s.getBoundingClientRect(),n={left:e.left,top:e.top},o=s.ownerDocument,t=o.defaultView||o.parentWindow;return n.left+=pe(t),n.top+=pe(t,!0),n}var be={width:0,height:0,overflow:"hidden",outline:"none"};const rn=M({compatConfig:{MODE:3},name:"Content",inheritAttrs:!1,props:u(u({},ae()),{},{motionName:String,ariaId:String,onVisibleChanged:Function,onMousedown:Function,onMouseup:Function}),setup:function(e,n){var o=n.expose,t=n.slots,a=n.attrs,v=T(),g=T(),c=T();o({focus:function(){var r;(r=v.value)===null||r===void 0||r.focus()},changeActive:function(r){var f=document,p=f.activeElement;r&&p===g.value?v.value.focus():!r&&p===v.value&&g.value.focus()}});var d=T(),C=Le(function(){var y=e.width,r=e.height,f={};return y!==void 0&&(f.width=typeof y=="number"?"".concat(y,"px"):y),r!==void 0&&(f.height=typeof r=="number"?"".concat(r,"px"):r),d.value&&(f.transformOrigin=d.value),f}),N=function(){ke(function(){if(c.value){var r=an(c.value);d.value=e.mousePosition?"".concat(e.mousePosition.x-r.left,"px ").concat(e.mousePosition.y-r.top,"px"):""}})},w=function(r){e.onVisibleChanged(r)};return function(){var y,r,f,p,b=e.prefixCls,i=e.footer,l=i===void 0?(y=t.footer)===null||y===void 0?void 0:y.call(t):i,h=e.title,P=h===void 0?(r=t.title)===null||r===void 0?void 0:r.call(t):h,x=e.ariaId,S=e.closable,E=e.closeIcon,B=E===void 0?(f=t.closeIcon)===null||f===void 0?void 0:f.call(t):E,I=e.onClose,$=e.bodyStyle,D=e.bodyProps,W=e.onMousedown,H=e.onMouseup,z=e.visible,V=e.modalRender,j=V===void 0?t.modalRender:V,X=e.destroyOnClose,Y=e.motionName,U;l&&(U=m("div",{class:"".concat(b,"-footer")},[l]));var ie;P&&(ie=m("div",{class:"".concat(b,"-header")},[m("div",{class:"".concat(b,"-title"),id:x},[P])]));var re;S&&(re=m("button",{type:"button",onClick:I,"aria-label":"Close",class:"".concat(b,"-close")},[B||m("span",{class:"".concat(b,"-close-x")},null)]));var le=m("div",{class:"".concat(b,"-content")},[re,ie,m("div",u({class:"".concat(b,"-body"),style:$},D),[(p=t.default)===null||p===void 0?void 0:p.call(t)]),U]),Oe=Ne(Y);return m(Te,u(u({},Oe),{},{onBeforeEnter:N,onAfterEnter:function(){return w(!0)},onAfterLeave:function(){return w(!1)}}),{default:function(){return[z||!X?xe(m("div",u(u({},a),{},{ref:c,key:"dialog-element",role:"document",style:[C.value,a.style],class:[b,a.class],onMousedown:W,onMouseup:H}),[m("div",{tabindex:0,ref:v,style:be,"aria-hidden":"true"},null),j?j({originVNode:le}):le,m("div",{tabindex:0,ref:g,style:be,"aria-hidden":"true"},null)]),[[Pe,z]]):null]}})}}}),ln=M({compatConfig:{MODE:3},name:"Mask",props:{prefixCls:String,visible:Boolean,motionName:String,maskProps:Object},setup:function(e,n){return Ye(n),function(){var o=e.prefixCls,t=e.visible,a=e.maskProps,v=e.motionName,g=Ne(v);return m(Te,g,{default:function(){return[xe(m("div",u({class:"".concat(o,"-mask")},a),null),[[Pe,t]])]}})}}}),he=M({compatConfig:{MODE:3},name:"Dialog",inheritAttrs:!1,props:te(u(u({},ae()),{},{getOpenCount:Function,scrollLocker:Object}),{mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog",getOpenCount:function(){return null},focusTriggerAfterClose:!0}),setup:function(e,n){var o=n.attrs,t=n.slots,a=T(),v=T(),g=T(),c=T(e.visible),d=T("vcDialogTitle".concat(on())),C=function(l){if(l){if(!Ve(v.value,document.activeElement)){var h;a.value=document.activeElement,(h=g.value)===null||h===void 0||h.focus()}}else{var P=c.value;if(c.value=!1,e.mask&&a.value&&e.focusTriggerAfterClose){try{a.value.focus({preventScroll:!0})}catch{}a.value=null}if(P){var x;(x=e.afterClose)===null||x===void 0||x.call(e)}}},N=function(l){var h;(h=e.onClose)===null||h===void 0||h.call(e,l)},w=T(!1),y=T(),r=function(){clearTimeout(y.value),w.value=!0},f=function(){y.value=setTimeout(function(){w.value=!1})},p=function(l){if(!e.maskClosable)return null;w.value?w.value=!1:v.value===l.target&&N(l)},b=function(l){if(e.keyboard&&l.keyCode===de.ESC){l.stopPropagation(),N(l);return}e.visible&&l.keyCode===de.TAB&&g.value.changeActive(!l.shiftKey)};return ne(function(){return e.visible},function(){e.visible&&(c.value=!0)},{flush:"post"}),we(function(){var i;clearTimeout(y.value),(i=e.scrollLocker)===null||i===void 0||i.unLock()}),Me(function(){var i;if((i=e.scrollLocker)===null||i===void 0||i.unLock(),c.value){var l;(l=e.scrollLocker)===null||l===void 0||l.lock()}}),function(){var i=e.prefixCls,l=e.mask,h=e.visible,P=e.maskTransitionName,x=e.maskAnimation,S=e.zIndex,E=e.wrapClassName,B=e.rootClassName,I=e.wrapStyle,$=e.closable,D=e.maskProps,W=e.maskStyle,H=e.transitionName,z=e.animation,V=e.wrapProps,j=e.title,X=j===void 0?t.title:j,Y=o.style,U=o.class;return m("div",u({class:["".concat(i,"-root"),B]},Xe(e,{data:!0})),[m(ln,{prefixCls:i,visible:l&&h,motionName:Ce(i,P,x),style:u({zIndex:S},W),maskProps:D},null),m("div",u({tabIndex:-1,onKeydown:b,class:Se("".concat(i,"-wrap"),E),ref:v,onClick:p,role:"dialog","aria-labelledby":X?d.value:null,style:u(u({zIndex:S},I),{},{display:c.value?null:"none"})},V),[m(rn,u(u({},He(e,["scrollLocker"])),{},{style:Y,class:U,onMousedown:r,onMouseup:f,ref:g,closable:$,ariaId:d.value,prefixCls:i,visible:h,onClose:N,onVisibleChanged:C,motionName:Ce(i,H,z)}),t)])])}}});var sn=ae(),cn=M({compatConfig:{MODE:3},name:"DialogWrap",inheritAttrs:!1,props:te(sn,{visible:!1}),setup:function(e,n){var o=n.attrs,t=n.slots,a=T(e.visible);return Ue({},{inTriggerContext:!1}),ne(function(){return e.visible},function(){e.visible&&(a.value=!0)},{flush:"post"}),function(){var v=e.visible,g=e.getContainer,c=e.forceRender,d=e.destroyOnClose,C=d===void 0?!1:d,N=e.afterClose,w=u(u(u({},e),o),{},{ref:"_component",key:"dialog"});return g===!1?m(he,u(u({},w),{},{getOpenCount:function(){return 2}}),t):!c&&C&&!a.value?null:m(tn,{visible:v,forceRender:c,getContainer:g},{default:function(r){return w=u(u(u({},w),r),{},{afterClose:function(){N==null||N(),a.value=!1}}),m(he,w,t)}})}}});const un=cn;var dn=["prefixCls","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"],ee=null,fn=function(e){ee={x:e.pageX,y:e.pageY},setTimeout(function(){return ee=null},100)};Qe()&&Ke(document.documentElement,"click",fn,!0);var vn=function(){return{prefixCls:String,visible:{type:Boolean,default:void 0},confirmLoading:{type:Boolean,default:void 0},title:k.any,closable:{type:Boolean,default:void 0},closeIcon:k.any,onOk:Function,onCancel:Function,"onUpdate:visible":Function,onChange:Function,afterClose:Function,centered:{type:Boolean,default:void 0},width:[String,Number],footer:k.any,okText:k.any,okType:String,cancelText:k.any,icon:k.any,maskClosable:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},okButtonProps:Object,cancelButtonProps:Object,destroyOnClose:{type:Boolean,default:void 0},wrapClassName:String,maskTransitionName:String,transitionName:String,getContainer:{type:[String,Function,Boolean,Object],default:void 0},zIndex:Number,bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},mask:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},wrapProps:Object,focusTriggerAfterClose:{type:Boolean,default:void 0},modalRender:Function}},Pn=[];const Sn=M({compatConfig:{MODE:3},name:"AModal",inheritAttrs:!1,props:te(vn(),{width:520,transitionName:"zoom",maskTransitionName:"fade",confirmLoading:!1,visible:!1,okType:"primary"}),setup:function(e,n){var o=n.emit,t=n.slots,a=n.attrs,v=$e("Modal"),g=Z(v,1),c=g[0],d=De("modal",e),C=d.prefixCls,N=d.rootPrefixCls,w=d.direction,y=d.getPopupContainer,r=function(i){o("update:visible",!1),o("cancel",i),o("change",!1)},f=function(i){o("ok",i)},p=function(){var i,l,h=e.okText,P=h===void 0?(i=t.okText)===null||i===void 0?void 0:i.call(t):h,x=e.okType,S=e.cancelText,E=S===void 0?(l=t.cancelText)===null||l===void 0?void 0:l.call(t):S,B=e.confirmLoading;return m(We,null,[m(ve,u({onClick:r},e.cancelButtonProps),{default:function(){return[E||c.value.cancelText]}}),m(ve,u(u({},Je(x)),{},{loading:B,onClick:f},e.okButtonProps),{default:function(){return[P||c.value.okText]}})])};return function(){var b,i;e.prefixCls;var l=e.visible,h=e.wrapClassName,P=e.centered,x=e.getContainer,S=e.closeIcon,E=S===void 0?(b=t.closeIcon)===null||b===void 0?void 0:b.call(t):S,B=e.focusTriggerAfterClose,I=B===void 0?!0:B,$=je(e,dn),D=Se(h,(i={},A(i,"".concat(C.value,"-centered"),!!P),A(i,"".concat(C.value,"-wrap-rtl"),w.value==="rtl"),i));return m(un,u(u(u({},$),a),{},{getContainer:x||y.value,prefixCls:C.value,wrapClassName:D,visible:l,mousePosition:ee,onClose:r,focusTriggerAfterClose:I,transitionName:ue(N.value,"zoom",e.transitionName),maskTransitionName:ue(N.value,"fade",e.maskTransitionName)}),u(u({},t),{},{footer:t.footer||p,closeIcon:function(){return m("span",{class:"".concat(C.value,"-close-x")},[E||m(Fe,{class:"".concat(C.value,"-close-icon")},null)])}}))}}});export{un as D,Sn as M,tn as P,ae as a,Tn as b,Pn as d,oe as g};
