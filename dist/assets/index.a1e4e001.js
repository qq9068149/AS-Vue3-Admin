import{d as $,b as w,P as m,j,E as Z,v as Y,a0 as ee,n as a,an as te,q as oe,J as ne,C as re,at as ae,A as ie,H as le,ag as se,D as M,h as L,m as fe,am as ue}from"./index.7be5bb68.js";import{T as pe}from"./Trigger.a7131e74.js";import{P as de}from"./colors.ddba932e.js";import{c as z}from"./vnode.5c7906f9.js";import{w as F}from"./raf.997cffb5.js";import{i as ce}from"./initDefaultProps.500766f6.js";var v={adjustX:1,adjustY:1},g=[0,0],q={left:{points:["cr","cl"],overflow:v,offset:[-4,0],targetOffset:g},right:{points:["cl","cr"],overflow:v,offset:[4,0],targetOffset:g},top:{points:["bc","tc"],overflow:v,offset:[0,-4],targetOffset:g},bottom:{points:["tc","bc"],overflow:v,offset:[0,4],targetOffset:g},topLeft:{points:["bl","tl"],overflow:v,offset:[0,-4],targetOffset:g},leftTop:{points:["tr","tl"],overflow:v,offset:[-4,0],targetOffset:g},topRight:{points:["br","tr"],overflow:v,offset:[0,-4],targetOffset:g},rightTop:{points:["tl","tr"],overflow:v,offset:[4,0],targetOffset:g},bottomRight:{points:["tr","br"],overflow:v,offset:[0,4],targetOffset:g},rightBottom:{points:["bl","br"],overflow:v,offset:[4,0],targetOffset:g},bottomLeft:{points:["tl","bl"],overflow:v,offset:[0,4],targetOffset:g},leftBottom:{points:["br","bl"],overflow:v,offset:[-4,0],targetOffset:g}},ve={prefixCls:String,id:String,overlayInnerStyle:m.any};const ge=$({compatConfig:{MODE:3},name:"Content",props:ve,slots:["overlay"],setup:function(e,n){var l=n.slots;return function(){var u;return w("div",{class:"".concat(e.prefixCls,"-inner"),id:e.id,role:"tooltip",style:e.overlayInnerStyle},[(u=l.overlay)===null||u===void 0?void 0:u.call(l)])}}});var me=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible"];function k(){}const be=$({compatConfig:{MODE:3},name:"Tooltip",inheritAttrs:!1,props:{trigger:m.any.def(["hover"]),defaultVisible:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:m.string.def("right"),transitionName:String,animation:m.any,afterVisibleChange:m.func.def(function(){}),overlayStyle:{type:Object,default:void 0},overlayClassName:String,prefixCls:m.string.def("rc-tooltip"),mouseEnterDelay:m.number.def(.1),mouseLeaveDelay:m.number.def(.1),getPopupContainer:Function,destroyTooltipOnHide:{type:Boolean,default:!1},align:m.object.def(function(){return{}}),arrowContent:m.any.def(null),tipId:String,builtinPlacements:m.object,overlayInnerStyle:{type:Object,default:void 0},popupVisible:{type:Boolean,default:void 0},onVisibleChange:Function,onPopupAlign:Function},slots:["arrowContent","overlay"],setup:function(e,n){var l=n.slots,u=n.attrs,b=n.expose,y=j(),A=function(){var d=e.prefixCls,N=e.tipId,S=e.overlayInnerStyle;return[w("div",{class:"".concat(d,"-arrow"),key:"arrow"},[te(l,e,"arrowContent")]),w(ge,{key:"content",prefixCls:d,id:N,overlayInnerStyle:S},{overlay:l.overlay})]},h=function(){return y.value.getPopupDomNode()};b({getPopupDomNode:h,triggerDOM:y,forcePopupAlign:function(){var d;return(d=y.value)===null||d===void 0?void 0:d.forcePopupAlign()}});var C=j(!1),c=j(!1);return Z(function(){var p=e.destroyTooltipOnHide;if(typeof p=="boolean")C.value=p;else if(p&&Y(p)==="object"){var d=p.keepParent;C.value=d===!0,c.value=d===!1}}),function(){var p=e.overlayClassName,d=e.trigger,N=e.mouseEnterDelay,S=e.mouseLeaveDelay,E=e.overlayStyle,V=e.prefixCls,T=e.afterVisibleChange,_=e.transitionName,I=e.animation,B=e.placement,s=e.align;e.destroyTooltipOnHide;var t=e.defaultVisible,o=ee(e,me),P=a({},o);e.visible!==void 0&&(P.popupVisible=e.visible);var r=a(a(a({popupClassName:p,prefixCls:V,action:d,builtinPlacements:q,popupPlacement:B,popupAlign:s,afterPopupVisibleChange:T,popupTransitionName:_,popupAnimation:I,defaultPopupVisible:t,destroyPopupOnHide:C.value,autoDestroy:c.value,mouseLeaveDelay:S,popupStyle:E,mouseEnterDelay:N},P),u),{},{onPopupVisibleChange:e.onVisibleChange||k,onPopupAlign:e.onPopupAlign||k,ref:y,popup:A()});return w(pe,r,{default:l.default})}}}),ye=function(){return{trigger:[String,Array],visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:void 0},placement:String,color:String,transitionName:String,overlayStyle:{type:Object,default:void 0},overlayClassName:String,openClassName:String,prefixCls:String,mouseEnterDelay:Number,mouseLeaveDelay:Number,getPopupContainer:Function,arrowPointAtCenter:{type:Boolean,default:void 0},autoAdjustOverflow:{type:[Boolean,Object],default:void 0},destroyTooltipOnHide:{type:Boolean,default:void 0},align:{type:Object,default:void 0},builtinPlacements:{type:Object,default:void 0},children:Array,onVisibleChange:Function,"onUpdate:visible":Function}};var Ce={adjustX:1,adjustY:1},W={adjustX:0,adjustY:0},Pe=[0,0];function U(i){return typeof i=="boolean"?i?Ce:W:a(a({},W),i)}function he(i){var e=i.arrowWidth,n=e===void 0?4:e,l=i.horizontalArrowShift,u=l===void 0?16:l,b=i.verticalArrowShift,y=b===void 0?8:b,A=i.autoAdjustOverflow,h=i.arrowPointAtCenter,C={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(u+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(y+n)]},topRight:{points:["br","tc"],offset:[u+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(y+n)]},bottomRight:{points:["tr","bc"],offset:[u+n,4]},rightBottom:{points:["bl","cr"],offset:[4,y+n]},bottomLeft:{points:["tl","bc"],offset:[-(u+n),4]},leftBottom:{points:["br","cl"],offset:[-4,y+n]}};return Object.keys(C).forEach(function(c){C[c]=h?a(a({},C[c]),{},{overflow:U(A),targetOffset:Pe}):a(a({},q[c]),{},{overflow:U(A)}),C[c].ignoreShake=!0}),C}function Oe(){for(var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=0,n=i.length;e<n;e++)if(i[e]!==void 0)return i[e]}var we=function(e,n){var l={},u=a({},e);return n.forEach(function(b){e&&b in e&&(l[b]=e[b],delete u[b])}),{picked:l,omitted:u}},X=new RegExp("^(".concat(de.join("|"),")(-inverse)?$")),Ae=function(){return a(a({},ye()),{},{title:m.any})},Ee=function(){return{trigger:"hover",transitionName:"zoom-big-fast",align:{},placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0}};const De=$({compatConfig:{MODE:3},name:"ATooltip",inheritAttrs:!1,props:ce(Ae(),{trigger:"hover",transitionName:"zoom-big-fast",align:{},placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0}),slots:["title"],setup:function(e,n){var l=n.slots,u=n.emit,b=n.attrs,y=n.expose,A=oe("tooltip",e),h=A.prefixCls,C=A.getPopupContainer,c=j(Oe([e.visible,e.defaultVisible])),p=j();ne(function(){re(e.defaultVisible===void 0,"Tooltip","'defaultVisible' is deprecated, please use 'v-model:visible'")});var d;ae(function(){return e.visible},function(s){F.cancel(d),d=F(function(){c.value=!!s})});var N=function(){var t,o=(t=e.title)!==null&&t!==void 0?t:l.title;return!o&&o!==0},S=function(t){var o=N();e.visible===void 0&&(c.value=o?!1:t),o||(u("update:visible",t),u("visibleChange",t))},E=function(){return p.value.getPopupDomNode()};y({getPopupDomNode:E,visible:c,forcePopupAlign:function(){var t;return(t=p.value)===null||t===void 0?void 0:t.forcePopupAlign()}});var V=ie(function(){var s=e.builtinPlacements,t=e.arrowPointAtCenter,o=e.autoAdjustOverflow;return s||he({arrowPointAtCenter:t,autoAdjustOverflow:o})}),T=function(t){return t||t===""},_=function(t){var o=t.type;if(Y(o)==="object"&&t.props&&((o.__ANT_BUTTON===!0||o==="button")&&T(t.props.disabled)||o.__ANT_SWITCH===!0&&(T(t.props.disabled)||T(t.props.loading)))){var P=we(fe(t),["position","left","right","top","bottom","float","display","zIndex"]),r=P.picked,x=P.omitted,f=a(a({display:"inline-block"},r),{},{cursor:"not-allowed",lineHeight:1,width:t.props&&t.props.block?"100%":null}),D=a(a({},x),{},{pointerEvents:"none"}),O=z(t,{style:D},!0);return w("span",{style:f,class:"".concat(h.value,"-disabled-compatible-wrapper")},[O])}return t},I=function(){var t,o;return(t=e.title)!==null&&t!==void 0?t:(o=l.title)===null||o===void 0?void 0:o.call(l)},B=function(t,o){var P=V.value,r=Object.keys(P).filter(function(D){return P[D].points[0]===o.points[0]&&P[D].points[1]===o.points[1]})[0];if(!!r){var x=t.getBoundingClientRect(),f={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?f.top="".concat(x.height-o.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(f.top="".concat(-o.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?f.left="".concat(x.width-o.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(f.left="".concat(-o.offset[0],"px")),t.style.transformOrigin="".concat(f.left," ").concat(f.top)}};return function(){var s,t,o,P=e.openClassName,r=e.color,x=e.overlayClassName,f=(s=le((t=l.default)===null||t===void 0?void 0:t.call(l)))!==null&&s!==void 0?s:null;f=f.length===1?f[0]:f;var D=c.value;if(e.visible===void 0&&N()&&(D=!1),!f)return null;var O=_(se(f)?f:w("span",null,[f])),J=M((o={},L(o,P||"".concat(h.value,"-open"),!0),L(o,O.props&&O.props.class,O.props&&O.props.class),o)),G=M(x,L({},"".concat(h.value,"-").concat(r),r&&X.test(r))),H,R;r&&!X.test(r)&&(H={backgroundColor:r},R={backgroundColor:r});var K=a(a(a({},b),e),{},{prefixCls:h.value,getPopupContainer:C.value,builtinPlacements:V.value,visible:D,ref:p,overlayClassName:G,overlayInnerStyle:H,onVisibleChange:S,onPopupAlign:B});return w(be,K,{default:function(){return[c.value?z(O,{class:J}):O]},arrowContent:function(){return w("span",{class:"".concat(h.value,"-arrow-content"),style:R},null)},overlay:I})}}}),_e=ue(De);export{_e as _,ye as a,Oe as f,he as g,Ee as t};
