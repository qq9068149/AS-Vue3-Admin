import{P as ne,d as K,b as r,ae as R,a7 as ae,K as oe,q as le,j as x,A as j,at as ie,E as ue,J as re,au as se,x as ce,B as fe,n as g,h as i,av as de,v as ve,ah as ge}from"./index.7be5bb68.js";import{W as ye}from"./wave.0a58d33f.js";import{i as pe}from"./initDefaultProps.500766f6.js";function Be(o){return o==="danger"?{danger:!0}:{type:o}}var he=function(){return{prefixCls:String,type:String,htmlType:{type:String,default:"button"},shape:{type:String},size:{type:String},loading:{type:[Boolean,Object],default:function(){return!1}},disabled:{type:Boolean,default:void 0},ghost:{type:Boolean,default:void 0},block:{type:Boolean,default:void 0},danger:{type:Boolean,default:void 0},icon:ne.any,href:String,target:String,title:String,onClick:{type:Function},onMousedown:{type:Function}}};const be=he;var D=function(e){e&&(e.style.width="0px",e.style.opacity="0",e.style.transform="scale(0)")},U=function(e){oe(function(){e&&(e.style.width="".concat(e.scrollWidth,"px"),e.style.opacity="1",e.style.transform="scale(1)")})},F=function(e){e&&e.style&&(e.style.width=null,e.style.opacity=null,e.style.transform=null)};const me=K({compatConfig:{MODE:3},name:"LoadingIcon",props:{prefixCls:String,loading:[Boolean,Object],existIcon:Boolean},setup:function(e){return function(){var d=e.existIcon,c=e.prefixCls,h=e.loading;if(d)return r("span",{class:"".concat(c,"-loading-icon")},[r(R,null,null)]);var S=!!h;return r(ae,{name:"".concat(c,"-loading-icon-motion"),onBeforeEnter:D,onEnter:U,onAfterEnter:F,onBeforeLeave:U,onLeave:function(v){setTimeout(function(){D(v)})},onAfterLeave:F},{default:function(){return[S?r("span",{class:"".concat(c,"-loading-icon")},[r(R,null,null)]):null]}})}}});var q=/^[\u4e00-\u9fa5]{2}$/,J=q.test.bind(q);function B(o){return o==="text"||o==="link"}const Se=K({compatConfig:{MODE:3},name:"AButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:pe(be(),{type:"default"}),slots:["icon"],setup:function(e,d){var c=d.slots,h=d.attrs,S=d.emit,w=d.expose,v=le("btn",e),N=v.prefixCls,E=v.autoInsertSpaceInButton,V=v.direction,G=v.size,y=x(null),b=x(void 0),k=!1,f=x(!1),p=x(!1),M=j(function(){return E.value!==!1}),I=j(function(){return ve(e.loading)==="object"&&e.loading.delay?e.loading.delay||!0:!!e.loading});ie(I,function(n){clearTimeout(b.value),typeof I.value=="number"?b.value=setTimeout(function(){f.value=n},I.value):f.value=n},{immediate:!0});var H=j(function(){var n,t=e.type,s=e.shape,l=s===void 0?"default":s,u=e.ghost,_=e.block,L=e.danger,a=N.value,m={large:"lg",small:"sm",middle:void 0},C=G.value,T=C&&m[C]||"";return n={},i(n,"".concat(a),!0),i(n,"".concat(a,"-").concat(t),t),i(n,"".concat(a,"-").concat(l),l!=="default"&&l),i(n,"".concat(a,"-").concat(T),T),i(n,"".concat(a,"-loading"),f.value),i(n,"".concat(a,"-background-ghost"),u&&!B(t)),i(n,"".concat(a,"-two-chinese-chars"),p.value&&M.value),i(n,"".concat(a,"-block"),_),i(n,"".concat(a,"-dangerous"),!!L),i(n,"".concat(a,"-rtl"),V.value==="rtl"),n}),W=function(){var t=y.value;if(!(!t||E.value===!1)){var s=t.textContent;k&&J(s)?p.value||(p.value=!0):p.value&&(p.value=!1)}},Q=function(t){if(f.value||e.disabled){t.preventDefault();return}S("click",t)},X=function(t,s){var l=s?" ":"";if(t.type===de){var u=t.children.trim();return J(u)&&(u=u.split("").join(l)),r("span",null,[u])}return t};ue(function(){ge(!(e.ghost&&B(e.type)),"Button","`link` or `text` button can't be a `ghost` button.")}),re(W),se(W),ce(function(){b.value&&clearTimeout(b.value)});var Y=function(){var t;(t=y.value)===null||t===void 0||t.focus()},Z=function(){var t;(t=y.value)===null||t===void 0||t.blur()};return w({focus:Y,blur:Z}),function(){var n,t,s=e.icon,l=s===void 0?(n=c.icon)===null||n===void 0?void 0:n.call(c):s,u=fe((t=c.default)===null||t===void 0?void 0:t.call(c));k=u.length===1&&!l&&!B(e.type);var _=e.type,L=e.htmlType,a=e.disabled,m=e.href,C=e.title,T=e.target,ee=e.onMousedown,te=f.value?"loading":l,P=g(g({},h),{},{title:C,disabled:a,class:[H.value,h.class,i({},"".concat(N.value,"-icon-only"),u.length===0&&!!te)],onClick:Q,onMousedown:ee});a||delete P.disabled;var A=l&&!f.value?l:r(me,{existIcon:!!l,prefixCls:N.value,loading:!!f.value},null),O=u.map(function(z){return X(z,k&&M.value)});if(m!==void 0)return r("a",g(g({},P),{},{href:m,target:T,ref:y}),[A,O]);var $=r("button",g(g({},P),{},{ref:y,type:L}),[A,O]);return B(_)?$:r(ye,{ref:"wave",disabled:!!f.value},{default:function(){return[$]}})}}});export{Se as B,be as b,Be as c};
